{"createdAt":"2025-04-23T21:58:40.467Z","updatedAt":"2025-04-23T21:58:40.467Z","id":"24gCRVcg9wEfHNik","name":"My workflow","active":false,"nodes":[{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/media","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"url","value":"={{ $('Append Video Data to Google Sheet').item.json['url '] }}"}]},"options":{}},"id":"f3f92aa6-3632-4531-a52c-15c4f8b5ef2f","name":"Upload Video to Blotato","type":"n8n-nodes-base.httpRequest","position":[2580,920],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.instagram_id }}\",\n    \"target\": {\n      \"targetType\": \"instagram\"\n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"instagram\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n","options":{}},"id":"66a604bf-6193-454c-bc66-b7cf350dd9c8","name":"Post to Instagram","type":"n8n-nodes-base.httpRequest","position":[2800,120],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.youtube_id }}\",\n    \"target\": {\n      \"targetType\": \"youtube\",\n      \"title\": \"{{ $('Append Video Data to Google Sheet').item.json.Title }}\",\n      \"privacyStatus\": \"unlisted\",\n      \"shouldNotifySubscribers\": \"false\"\n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"youtube\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}","options":{}},"id":"937b2ac9-7f52-4f2d-b656-1732ab1070c2","name":"Post to YouTube","type":"n8n-nodes-base.httpRequest","position":[2800,320],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.tiktok_id }}\",\n    \"target\": {\n      \"targetType\": \"tiktok\",\n      \"isYourBrand\": \"false\", \n      \"disabledDuet\": \"false\",\n      \"privacyLevel\": \"PUBLIC_TO_EVERYONE\",\n      \"isAiGenerated\": \"true\",\n      \"disabledStitch\": \"false\",\n      \"disabledComments\": \"false\",\n      \"isBrandedContent\": \"false\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"tiktok\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n","options":{}},"id":"35c02524-88f2-41ba-b0e2-36d08110d492","name":"Post to TikTok","type":"n8n-nodes-base.httpRequest","position":[2800,520],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.facebook_id }}\",\n    \"target\": {\n      \"targetType\": \"facebook\",\n      \"pageId\": \"{{ $('Assign Platform IDs for Blotato').item.json.facebook_page_id }}\"\n\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"facebook\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}","options":{}},"id":"96c27964-fdf2-459f-92fe-7f294ee1fac4","name":"Post to Facebook Page","type":"n8n-nodes-base.httpRequest","position":[2800,720],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.threads_id }}\",\n    \"target\": {\n      \"targetType\": \"threads\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"threads\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}","options":{}},"id":"da9a6710-ed30-4412-88ea-544ae8400c6c","name":"Post to Threads","type":"n8n-nodes-base.httpRequest","position":[2800,920],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.twitter_id }}\",\n    \"target\": {\n      \"targetType\": \"twitter\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"twitter\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n","options":{}},"id":"46a717bd-7fb1-4ba3-8810-cbb39357650a","name":"Post to Twitter (X)","type":"n8n-nodes-base.httpRequest","position":[2800,1120],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.linkedin_id }}\",\n    \"target\": {\n      \"targetType\": \"linkedin\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"linkedin\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n","options":{}},"id":"4f344f4e-e109-4281-a36b-d74b4f8d7f9f","name":"Post to LinkedIn","type":"n8n-nodes-base.httpRequest","position":[2800,1320],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.bluesky_id }}\",\n    \"target\": {\n      \"targetType\": \"bluesky\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"bluesky\",\n      \"mediaUrls\": [\n        \"https://pbs.twimg.com/media/GE8MgIiWEAAfsK3.jpg\"\n      ]\n    }\n  }\n}\n","options":{}},"id":"b9b51e46-f9b6-48f5-afbe-94d8bc1ebcf6","name":"Post to Bluesky","type":"n8n-nodes-base.httpRequest","position":[2800,1520],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/posts","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Platform IDs for Blotato').item.json.pinterest_id }}\",\n    \"target\": {\n      \"targetType\": \"pinterest\",\n      \"boardId\": \"{{ $('Assign Platform IDs for Blotato').item.json.pinterest_board_id }}\"      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Append Video Data to Google Sheet').item.json.caption }}\",\n      \"platform\": \"pinterest\",\n      \"mediaUrls\": [\n        \"https://pbs.twimg.com/media/GE8MgIiWEAAfsK3.jpg\"\n      ]\n    }\n  }\n}\n","options":{}},"id":"2a915471-ea37-4ab3-bfd7-8cdf8407620b","name":"Post to Pinterest","type":"n8n-nodes-base.httpRequest","position":[2800,1720],"typeVersion":4.2},{"parameters":{"content":"# 🟥 STEP 5 — Auto-Publish to 9 Social Platforms\n## The final step automates distribution using Blotato’s API.\n","height":1900,"width":880,"color":3},"id":"4b46221c-7910-4129-aa43-9d472b685ddb","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","position":[2320,0],"typeVersion":1},{"parameters":{"content":"# 🟫 STEP 1 — Create Video Using AI (image or text)\n## This step handles the full video creation pipeline using AI.\n### It starts from a Telegram message containing a prompt or image, \n","height":760,"width":2260},"id":"f5b29397-0800-402c-ba70-fb0c491a7ed9","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[0,0],"typeVersion":1},{"parameters":{"content":"# 🟫 STEP 2 — Create Music\n## Here, a short-form voice-over script is generated using GPT-4 based on the topic.\n### The script is converted to speech, uploaded, and merged with the AI-generated video — resulting in a fully narrated visual asset.\n","height":520,"width":1500},"id":"b6d5d4be-35f6-4134-b6e9-8f31bdf6e04e","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[0,840],"typeVersion":1},{"parameters":{"content":"# 🟫 STEP 3 — Add Captions to Enhance Engagement\n## To increase accessibility and boost social engagement, \n## this step overlays professional-looking subtitles on the video using a styling template.\n### This results in a final video that includes visuals, voice-over, and captions.\n","height":460,"width":1500},"id":"1e5b9f18-e06c-42c3-be72-30a941edc4f2","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[0,1440],"typeVersion":1},{"parameters":{"content":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 🟫 STEP 4 — Save Video & Notify via Telegram\n## This step generates a title and caption for the video, \n## saves the content metadata to a Google Sheet for future tracking, \n### And sends both the final video and its description to a Telegram chat for validation or reuse.\n### The script is converted to speech, uploaded, and merged with the AI-generated video — resulting in a fully narrated visual asset.\n","height":1060,"width":680,"color":4},"id":"b59f3dfa-8e31-4138-ba5b-c77b18c34503","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","position":[1580,840],"typeVersion":1},{"parameters":{"updates":["message"],"additionalFields":{}},"id":"449a751f-292e-4237-99c5-0365cff28f37","name":"Trigger Telegram Prompt or Image","type":"n8n-nodes-base.telegramTrigger","position":[80,280],"webhookId":"20261394-b809-4b76-9b7b-36a20af57673","typeVersion":1.1},{"parameters":{"jsCode":"const input = $input.first().json.message.text || $input.first().json.message.caption;\n\n// Remove optional \"generate video\" prefix\nconst cleaned = input.replace(/^generate video[:]?/i, '').trim();\n\n// Split by comma\nconst parts = cleaned.split(',').map(p => p.trim());\n\n// Assign values even if missing\nconst videoPrompt = parts[0] || \"\";\nconst captionIdea = parts[1] || \"\";\nconst musicStyle = parts[2] || \"\";\n\nreturn [\n  {\n    json: {\n      videoPrompt,\n      captionIdea,\n      musicStyle\n    }\n  }\n];\n"},"id":"ee2bd977-54af-40cf-8bce-ec24cf6a046c","name":"Split Prompt or Image Input","type":"n8n-nodes-base.code","position":[280,280],"typeVersion":2},{"parameters":{"conditions":{"options":{"version":2,"leftValue":"","caseSensitive":true,"typeValidation":"strict"},"combinator":"and","conditions":[{"id":"8b4d3f92-c9e0-45e6-8b6a-4fa487e6b32f","operator":{"type":"string","operation":"notEmpty","singleValue":true},"leftValue":"={{ $('Trigger Telegram Prompt or Image').item.json.message.text }}","rightValue":""}]},"options":{}},"id":"e434ba16-2c8a-49b3-aca0-225ab0136284","name":"Condition Input Type (Image or Text)","type":"n8n-nodes-base.if","position":[460,280],"typeVersion":2.2},{"parameters":{"resource":"file","fileId":"={{ $('Trigger Telegram Prompt or Image').item.json.message.photo[3].file_id }}"},"id":"09e5b20c-4bd6-423c-92bb-8d58ee335bf4","name":"Download Image from Telegram","type":"n8n-nodes-base.telegram","position":[760,440],"webhookId":"1d115d8e-62c9-4f43-898e-20892b25fdb9","typeVersion":1.2},{"parameters":{"url":"=https://api.telegram.org/file/bot_YOURTOKEN/{{ $('Download Image from Telegram').item.json.result.file_path }}","options":{}},"id":"bdd6b889-d7e4-4bf4-8ab5-9cc0bbb80a2f","name":"Extract Image File URL","type":"n8n-nodes-base.httpRequest","position":[960,440],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://api.cloudinary.com/v1_1/dc5wapno3/image/upload","authentication":"genericCredentialType","genericAuthType":"httpBasicAuth","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"},{"name":"upload_preset","value":"n8n_video"}]},"options":{}},"id":"e782528f-ba37-4b51-8719-2084a391c41d","name":"Upload Image to Cloudinary","type":"n8n-nodes-base.httpRequest","position":[1120,440],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://api.piapi.ai/api/v1/task","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n\"model\": \"kling\",\n\"task_type\": \"video_generation\",\n\"input\": {\n\"prompt\": \"{{ $('Split Prompt or Image Input').item.json.videoPrompt }}\",\n\"image_url\": \"{{ $json.secure_url }}\",\n\"negative_prompt\": \"\",\n\"cfg_scale\": 0.5,\n\"duration\": 5,\n\"version\": \"1.6\",\n\"camera_control\": {\n\"type\": \"simple\",\n\"config\": {\n\"horizontal\": 0,\n\"vertical\": 0,\n\"pan\": 0,\n\"tilt\": 0,\n\"roll\": 0,\n\"zoom\": 0\n}\n},\n\"mode\": \"std\"\n},\n\"config\": {\n\"service_mode\": \"\",\n\"webhook_config\": {\n\"endpoint\": \"\",\n\"secret\": \"\"\n}\n}\n}","options":{}},"id":"1a7386ad-b6d3-48c1-98e3-cd719a3650d1","name":"Convert Image to Video","type":"n8n-nodes-base.httpRequest","position":[1320,440],"typeVersion":4.2,"credentials":{"httpHeaderAuth":{"id":"sOiPBHntW3WgxHaH","name":"Mealie"}}},{"parameters":{"amount":2,"unit":"minutes"},"id":"f43693e4-23db-42f6-9eb6-94f43e50a4e8","name":"Wait for Image-to-Video Rendering","type":"n8n-nodes-base.wait","position":[1520,440],"webhookId":"adf3489e-21ed-42de-8cc6-70c706cacbbf","typeVersion":1.1},{"parameters":{"url":"=https://api.piapi.ai/api/v1/task/{{ $json.data.task_id }}","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","options":{"response":{"response":{"responseFormat":"json"}}}},"id":"93c4db37-327d-4fcd-b340-1e3fd001612c","name":"Get Image-Based Video URL","type":"n8n-nodes-base.httpRequest","position":[1720,440],"typeVersion":4.2},{"parameters":{"method":"POST","url":"https://backend.blotato.com/v2/videos/creations","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"script\": \"{{ $json.videoPrompt }}\",\n  \"style\": \"cinematic\",\n  \"template\": {\n    \"id\": \"base/pov/wakeup\"\n  }\n}\n","options":{}},"id":"63904bba-cbea-4827-ac9c-d030914bf8b4","name":"Generate Video with blotato","type":"n8n-nodes-base.httpRequest","position":[760,120],"typeVersion":4.2},{"parameters":{"amount":2,"unit":"minutes"},"id":"fa0d21ed-9e7d-4aaf-a512-55e4e74224f5","name":"Wait for blotato Video Rendering","type":"n8n-nodes-base.wait","position":[1520,120],"webhookId":"00fc9999-cacc-4c9b-b71b-75757c56f31e","typeVersion":1.1},{"parameters":{"url":"=https://backend.blotato.com/v2/videos/creations/{{ $json.item.id }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"blotato-api-key"}]},"options":{"response":{"response":{"responseFormat":"json"}}}},"id":"6b89154c-9fec-4c5b-94cd-353f6247446b","name":"Get blotato Video URL","type":"n8n-nodes-base.httpRequest","position":[1720,120],"typeVersion":4.2},{"parameters":{"assignments":{"assignments":[{"id":"5ca907c0-f556-488d-ad59-714089b2a594","name":"url_video","type":"string","value":"={{ $json.item.mediaUrl }}{{ $json.data.output.video_url }} "}]},"options":{}},"id":"ddf065b1-c575-4630-8f6a-118308458e8c","name":"Merge Video Data (Image or Prompt)","type":"n8n-nodes-base.set","position":[2060,440],"typeVersion":3.4},{"parameters":{"method":"POST","url":"https://api.piapi.ai/api/v1/task","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"Qubico/diffrhythm\",\n  \"task_type\": \"txt2audio-base\",\n  \"input\": {\n    \"style_prompt\": \"{{ $('Split Prompt or Image Input').item.json.musicStyle }}\",\n    \"lyrics\": \"\",\n    \"style_audio\": \"\"\n  },\n  \"config\": {\n    \"webhook_config\": {\n      \"endpoint\": \"\",\n      \"secret\": \"\"\n    }\n  }\n}\n","options":{}},"id":"348bea39-a28e-4f45-8ed8-0733f7d0bf3c","name":"Generate Music with Piapi","type":"n8n-nodes-base.httpRequest","position":[60,1040],"typeVersion":4.2,"credentials":{"httpHeaderAuth":{"id":"sOiPBHntW3WgxHaH","name":"Mealie"}}},{"parameters":{"amount":2,"unit":"minutes"},"id":"fc250b7a-c92b-4aa0-b792-5b172c1f67b9","name":"Wait for Music Generation","type":"n8n-nodes-base.wait","position":[480,1040],"webhookId":"ecf06ea7-0f87-42f6-939f-688e7eb20da1","typeVersion":1.1},{"parameters":{"url":"=https://api.piapi.ai/api/v1/task/{{ $json.data.task_id }}","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","options":{"response":{"response":{"responseFormat":"json"}}}},"id":"f9aa8137-4f3d-4d8b-ae86-3a1f4752b040","name":"Get Music File URL","type":"n8n-nodes-base.httpRequest","position":[700,1040],"typeVersion":4.2},{"parameters":{"modelId":{"__rl":true,"mode":"list","value":"gpt-4o-mini","cachedResultName":"GPT-4O-MINI"},"messages":{"values":[{"content":"=You are a copywriter for short-form vertical videos.\nVideo topic:\n{{ $('Split Prompt or Image Input').first().json.captionIdea }}\nWrite two short lines of overlay text:\n\ntext1: Hook (no period)\n\ntext2: Emotional or curiosity payoff (ends with \"...\")\n\nExample:\ntext1: Why I broke up with ChatGPT\ntext2: this other AI gets me so much better...\n\nRules:\n\nMax 50 characters per line\n\nOutput only:\ntext1: ...\ntext2: ...\n\nNo quotes, brackets, emojis, hashtags, or titles\n\n"}]},"options":{}},"id":"a184ef25-ca15-46bf-ab47-4bb1dd3a1fd0","name":"Generate Script (GPT-4o-mini)","type":"@n8n/n8n-nodes-langchain.openAi","position":[920,1040],"typeVersion":1.8},{"parameters":{"jsCode":"const input = $input.first().json;\n\n// Auto-detect AI output path\nlet aiOutput = \"\";\n\nif (input?.choices?.[0]?.message?.content) {\n  aiOutput = input.choices[0].message.content;\n} else if (input?.message?.content) {\n  aiOutput = input.message.content;\n} else if (typeof input?.content === \"string\") {\n  aiOutput = input.content;\n} else {\n  // Optional: expose the input in case of failure for debug\n  throw new Error(\"❌ No valid AI output found. Check the structure of the input.\");\n}\n\nconst lines = aiOutput.split('\\n').map(l => l.trim());\nlet text1 = \"\";\nlet text2 = \"\";\n\nfor (const line of lines) {\n  if (line.toLowerCase().startsWith(\"text1:\")) {\n    text1 = line.replace(/^text1:\\s*/i, '');\n  } else if (line.toLowerCase().startsWith(\"text2:\")) {\n    text2 = line.replace(/^text2:\\s*/i, '');\n  }\n}\n\nreturn [\n  {\n    json: {\n      text1,\n      text2\n    }\n  }\n];\n"},"id":"f08d4330-cd2e-41d6-80c3-dc087745387c","name":"Split Script","type":"n8n-nodes-base.code","position":[1300,1040],"typeVersion":2},{"parameters":{"method":"POST","url":"https://api.json2video.com/v2/movies","authentication":"genericCredentialType","genericAuthType":"httpCustomAuth","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"id\": \"qbaasr7s\",\n  \"resolution\": \"instagram-story\",\n  \"quality\": \"high\",\n  \"scenes\": [\n    {\n      \"id\": \"qyjh9lwj\",\n      \"comment\": \"Scene 1\",\n      \"elements\": []\n    }\n  ],\n  \"elements\": [\n    {\n      \"id\": \"q6dznzcv\",\n      \"type\": \"video\",\n      \"src\": \"{{ $('Merge Video Data (Image or Prompt)').item.json.url_video }}\",\n      \"resize\": \"cover\"\n    },\n    {\n      \"id\": \"top-text\",\n      \"type\": \"text\",\n      \"text\": \"{{ $json.text1 }}\",\n      \"settings\": {\n        \"font-family\": \"Libre Baskerville\",\n        \"font-size\": \"80px\",\n        \"color\": \"#ffffff\",\n        \"horizontal-position\": \"center\",\n        \"vertical-position\": \"top\",\n        \"margin-top\": \"100px\",\n        \"word-break\": \"break-word\",\n        \"overflow-wrap\": \"break-word\",\n        \"font-weight\": \"normal\",\n        \"text-shadow\": \"3px 3px 0 #000, -3px -3px 0 #000, 3px -3px 0 #000, -3px 3px 0 #000, 0px 3px 0 #000, 3px 0px 0 #000, -3px 0px 0 #000, 0px -3px 0 #000\"\n      }\n    },\n    {\n      \"id\": \"bottom-text\",\n      \"type\": \"text\",\n      \"text\": \"{{ $json.text2 }}\",\n      \"settings\": {\n        \"font-family\": \"Libre Baskerville\",\n        \"font-size\": \"80px\",\n        \"color\": \"#ffffff\",\n        \"horizontal-position\": \"center\",\n        \"vertical-position\": \"bottom\",\n        \"margin-bottom\": \"250px\",\n        \"word-break\": \"break-word\",\n        \"overflow-wrap\": \"break-word\",\n        \"font-weight\": \"normal\",\n        \"text-shadow\": \"3px 3px 0 #000, -3px -3px 0 #000, 3px -3px 0 #000, -3px 3px 0 #000, 0px 3px 0 #000, 3px 0px 0 #000, -3px 0px 0 #000, 0px -3px 0 #000\"\n      }\n    },\n    {\n      \"id\": \"music-track\",\n      \"type\": \"audio\",\n      \"src\": \"{{ $('Get Music File URL').item.json.data.output.audio_url }}\",\n      \"volume\": 0.5,\n      \"duration\": -2\n    }\n  ]\n}\n","options":{}},"id":"b4f23bbd-8b39-4e31-bbcd-4cd4015ee344","name":"Merge Video + Music","type":"n8n-nodes-base.httpRequest","position":[80,1640],"typeVersion":4.2},{"parameters":{"amount":1,"unit":"minutes"},"id":"517cad42-1023-4403-8a63-ba947c0c20c5","name":"Wait for Fusion Completion","type":"n8n-nodes-base.wait","position":[260,1640],"webhookId":"8d188124-8aeb-49b0-bdf8-5a9f42e205e5","typeVersion":1.1},{"parameters":{"url":"=https://api.json2video.com/v2/movies?id={{ $json.project }}","authentication":"genericCredentialType","genericAuthType":"httpCustomAuth","options":{}},"id":"d9a6c854-cbdc-47ea-8c8c-3cb2a5f08bda","name":"Get Final Video URL","type":"n8n-nodes-base.httpRequest","position":[500,1640],"typeVersion":4.2},{"parameters":{"modelId":{"__rl":true,"mode":"list","value":"gpt-4o-mini","cachedResultName":"GPT-4O-MINI"},"messages":{"values":[{"content":"=Write a short social media caption from this topic:\n{{ $('Split Prompt or Image Input').first().json.captionIdea }}\n\nMake it actionable, not generic or motivational.\nAdd 1 problem + 1 specific solution.\nUse 1 sentence per line, with an empty line between each.\ndon't asking them to comment.\nMaximum 150 characters\n\n🧠 Caption Guidelines:\nKeep it short, compelling, and value-driven.\n\nAvoid generic motivational fluff — focus on real, actionable insight or highlight a problem/solution pattern.\n\n\nStructure:\n\nOne sentence per line.\n\nNote: Do not use this character: \" in the result.\nReturn a single short paragraph with no line breaks and no special characters.\nNote: Do not use this character: \" in the result."}]},"options":{}},"id":"a69d1c0a-bef6-46c5-89d5-364908f09526","name":"Generate Social Caption (GPT-4)","type":"@n8n/n8n-nodes-langchain.openAi","position":[720,1640],"typeVersion":1.8},{"parameters":{"modelId":{"__rl":true,"mode":"list","value":"gpt-4o-mini","cachedResultName":"GPT-4O-MINI"},"messages":{"values":[{"content":"=Act as a YouTube Title Expert.\nBased on the following video description:\n{{ $('Split Prompt or Image Input').first().json.captionIdea }}\nGenerate a short, punchy, and curiosity-driven YouTube video title that makes people want to click.\nMake it feel urgent, valuable, or surprising — and avoid generic or boring phrases.\nKeep it under 70 characters. Return only the title, no explanations.\nNote: The title must be free of special characters and the character \". Return only a plain text title.\n- Do not start the title with this character : \"\n- Do not finish the title with this character : \"\n- You Never user this character : \" in the title\n"}]},"options":{}},"id":"d0e77be0-d0a1-4b56-808d-fd119a01b125","name":"Generate SEO Title (GPT-4)","type":"@n8n/n8n-nodes-langchain.openAi","position":[1160,1640],"typeVersion":1.8},{"parameters":{"operation":"append","documentId":{"__rl":true,"mode":"id","value":"="},"sheetName":{"__rl":true,"mode":"id","value":"="},"columns":{"value":{"url ":"={{ $('Get Final Video URL').item.json.movie.url }}","Title":"={{ $json.message.content }}","caption":"={{ $('Generate Social Caption (GPT-4)').item.json.message.content }}"},"schema":[{"id":"url ","type":"string","display":true,"required":false,"displayName":"url ","defaultMatch":false,"canBeUsedToMatch":true},{"id":"caption","type":"string","display":true,"required":false,"displayName":"caption","defaultMatch":false,"canBeUsedToMatch":true},{"id":"Title","type":"string","display":true,"removed":false,"required":false,"displayName":"Title","defaultMatch":false,"canBeUsedToMatch":true},{"id":"status","type":"string","display":true,"removed":true,"required":false,"displayName":"status","defaultMatch":false,"canBeUsedToMatch":true}],"mappingMode":"defineBelow","matchingColumns":[],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"id":"e50a3cd7-3879-42d1-95a9-75d19c2c96cf","name":"Append Video Data to Google Sheet","type":"n8n-nodes-base.googleSheets","position":[1640,920],"typeVersion":4.5},{"parameters":{"chatId":"={{ $('Trigger Telegram Prompt or Image').first().json.message.chat.id }}","text":"=Here's your scheduled video:\n----------------\nCaption Text: {{ $json.caption }}\n----------------\nVideo Link: {{ $json['url '] }}","additionalFields":{}},"id":"2344745f-ca16-4736-9073-4747d5187dbb","name":"Send Final Video to Telegram","type":"n8n-nodes-base.telegram","position":[1860,920],"webhookId":"3046e11e-60db-4fcf-9351-22758c833f83","typeVersion":1.2},{"parameters":{"operation":"sendVideo","chatId":"={{ $json.result.chat.id }}","file":"={{ $('Append Video Data to Google Sheet').item.json['url '] }}","additionalFields":{}},"id":"b0995989-182d-4596-9b55-865c9dd94379","name":"Send Caption to Telegram","type":"n8n-nodes-base.telegram","position":[2060,920],"webhookId":"1282505d-dcc3-4dbd-9657-fb1362033382","typeVersion":1.2},{"parameters":{"mode":"raw","jsonOutput":"{\n  \"instagram_id\": \"1111\",\n  \"youtube_id\": \"2222\",\n  \"threads_id\": \"3333\",\n  \"tiktok_id\": \"4444\",\n  \"facebook_id\": \"5555\",\n  \"facebook_page_id\": \"6666\",\n  \"twitter_id\": \"7777\",\n  \"linkedin_id\": \"8888\",\n  \"pinterest_id\": \"9999\",\n  \"pinterest_board_id\": \"1010\",\n  \"bluesky_id\": \"11111111\"\n}\n","options":{}},"id":"23f2e7fe-6313-44e6-8056-4c98ac59772c","name":"Assign Platform IDs for Blotato","type":"n8n-nodes-base.set","position":[2360,920],"typeVersion":3.4}],"connections":{"Split Script":{"main":[[{"node":"Merge Video + Music","type":"main","index":0}]]},"Get Music File URL":{"main":[[{"node":"Generate Script (GPT-4o-mini)","type":"main","index":0}]]},"Get Final Video URL":{"main":[[{"node":"Generate Social Caption (GPT-4)","type":"main","index":0}]]},"Merge Video + Music":{"main":[[{"node":"Wait for Fusion Completion","type":"main","index":0}]]},"Get blotato Video URL":{"main":[[{"node":"Merge Video Data (Image or Prompt)","type":"main","index":0}]]},"Convert Image to Video":{"main":[[{"node":"Wait for Image-to-Video Rendering","type":"main","index":0}]]},"Extract Image File URL":{"main":[[{"node":"Upload Image to Cloudinary","type":"main","index":0}]]},"Upload Video to Blotato":{"main":[[{"node":"Post to Instagram","type":"main","index":0},{"node":"Post to YouTube","type":"main","index":0},{"node":"Post to TikTok","type":"main","index":0},{"node":"Post to Facebook Page","type":"main","index":0},{"node":"Post to Threads","type":"main","index":0},{"node":"Post to Twitter (X)","type":"main","index":0},{"node":"Post to LinkedIn","type":"main","index":0},{"node":"Post to Bluesky","type":"main","index":0},{"node":"Post to Pinterest","type":"main","index":0}]]},"Send Caption to Telegram":{"main":[[{"node":"Assign Platform IDs for Blotato","type":"main","index":0}]]},"Generate Music with Piapi":{"main":[[{"node":"Wait for Music Generation","type":"main","index":0}]]},"Get Image-Based Video URL":{"main":[[{"node":"Merge Video Data (Image or Prompt)","type":"main","index":0}]]},"Wait for Music Generation":{"main":[[{"node":"Get Music File URL","type":"main","index":0}]]},"Generate SEO Title (GPT-4)":{"main":[[{"node":"Append Video Data to Google Sheet","type":"main","index":0}]]},"Upload Image to Cloudinary":{"main":[[{"node":"Convert Image to Video","type":"main","index":0}]]},"Wait for Fusion Completion":{"main":[[{"node":"Get Final Video URL","type":"main","index":0}]]},"Generate Video with blotato":{"main":[[{"node":"Wait for blotato Video Rendering","type":"main","index":0}]]},"Split Prompt or Image Input":{"main":[[{"node":"Condition Input Type (Image or Text)","type":"main","index":0}]]},"Download Image from Telegram":{"main":[[{"node":"Extract Image File URL","type":"main","index":0}]]},"Send Final Video to Telegram":{"main":[[{"node":"Send Caption to Telegram","type":"main","index":0}]]},"Generate Script (GPT-4o-mini)":{"main":[[{"node":"Split Script","type":"main","index":0}]]},"Assign Platform IDs for Blotato":{"main":[[{"node":"Upload Video to Blotato","type":"main","index":0}]]},"Generate Social Caption (GPT-4)":{"main":[[{"node":"Generate SEO Title (GPT-4)","type":"main","index":0}]]},"Trigger Telegram Prompt or Image":{"main":[[{"node":"Split Prompt or Image Input","type":"main","index":0}]]},"Wait for blotato Video Rendering":{"main":[[{"node":"Get blotato Video URL","type":"main","index":0}]]},"Append Video Data to Google Sheet":{"main":[[{"node":"Send Final Video to Telegram","type":"main","index":0}]]},"Wait for Image-to-Video Rendering":{"main":[[{"node":"Get Image-Based Video URL","type":"main","index":0}]]},"Merge Video Data (Image or Prompt)":{"main":[[{"node":"Generate Music with Piapi","type":"main","index":0}]]},"Condition Input Type (Image or Text)":{"main":[[{"node":"Generate Video with blotato","type":"main","index":0}],[{"node":"Download Image from Telegram","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"bd74d3e8-2973-42a5-b2b8-0b9c62b48ebc","triggerCount":0,"tags":[]}